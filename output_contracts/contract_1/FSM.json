{
    "contractName": "ZapInContract",
    "inherited contracts": [],
    "initialState": "Idle",
    "states": [
      {
        "name": "Idle",
        "transitions": [
          {
            "trigger": "ZapIn",
            "target": "Processing",
            "action": "initializeZapIn",
            "condition": "isActive"
          }
        ]
      },
      {
        "name": "Processing",
        "transitions": [
          {
            "trigger": "TokenApproved",
            "target": "LiquidityAdded",
            "action": "processTrade",
            "condition": "sufficientTokens"
          },
          {
            "trigger": "Error",
            "target": "Failed",
            "action": "handleError"
          }
        ]
      },
      {
        "name": "LiquidityAdded",
        "transitions": [
          {
            "trigger": "ReturnPoolTokens",
            "target": "Idle",
            "action": "returnTokens"
          }
        ]
      },
      {
        "name": "Failed",
        "transitions": [
          {
            "trigger": "Retry",
            "target": "Idle",
            "action": "cleanup"
          }
        ]
      }
    ],
    "variables": [
      {
        "name": "goodwill",
        "type": "uint",
        "initialValue": 0
      },
      {
        "name": "stopped",
        "type": "bool",
        "initialValue": false
      },
      {
        "name": "exchange2Token",
        "type": "address",
        "initialValue": "0x0000000000000000000000000000000000000000"
      },
      {
        "name": "tokenAddresses",
        "type": "mapping(address => bool)",
        "initialValue": {}
      }
    ],
    "functions": [
      {
        "name": "approveToken",
        "function": "Approve the specified token for spending."
      },
      {
        "name": "ZapIn",
        "function": "Initiates the zap-in transaction with specified tokens."
      },
      {
        "name": "ZapInWithETH",
        "function": "Handles zap-in transactions using ETH."
      },
      {
        "name": "ZapInWithERC20",
        "function": "Handles zap-in transactions using ERC20 tokens."
      },
      {
        "name": "enterLiquidity",
        "function": "Enters liquidity into the Curve pool."
      }
    ],
    "events": [
      "ContractActivated",
      "ContractPaused",
      "TokenApprovalConfirmed"
    ]
}
